/* src/paginas/PaginaAlimentadores/componentes/tarjetas/TarjetaAlimentador.css */
/*
   NOTA SOBRE ESTE ARCHIVO (TarjetaAlimentador.css)
   - Define el aspecto visual de cada tarjeta de alimentador: marco, header con
     botones, cuerpo con medidores y estados especiales (drag & drop, progreso).

   - `.alim-card` es el contenedor base; `.alim-card-wide` se usa cuando hay
     muchas cajas para ensanchar la tarjeta.

   - `.alim-card-meter-value` aplica la fuente digital y los colores del display,
     mientras que `.alim-meter-progress-*` dibuja el borde animado según el
     periodo de medición configurado.
*/

/* Tarjeta base (card de alimentador) */
.alim-card {
	background-color: #111827;
	border-radius: 16px;
	overflow: hidden;
	box-shadow: 0 10px 25px rgba(15, 23, 42, 0.6);
	color: #f9fafb;
	border: 1px solid #1f2937;
	min-height: 230px;

	/* importante para que flex calcule bien el ancho */
	flex: 0 0 304px; /* ancho "normal" de la tarjeta */
}

/* Cuando hay 4 boxes en alguna fila, la hacemos más ancha */
.alim-card-wide {
	flex-basis: 380px;
}

/* Header de la tarjeta */
.alim-card-header {
	padding: 0.2rem 0.3rem;
	display: flex;
	align-items: center;
}

/* contenedor de los iconos (tuerca + mapeo) */
.alim-card-icons {
	display: flex;
	align-items: center;
	gap: 4px;
}

/* Botón base para iconos (tuerca y mapeo) */
.alim-card-icon-btn,
.alim-card-config-btn {
	border: 1px solid #37415171;
	border-radius: 10px;
	background: transparent;
	cursor: pointer;
	padding: 4px 6px;
	display: inline-flex;
	align-items: center;
	gap: 4px;
}

.alim-card-icon-btn:hover,
.alim-card-config-btn:hover {
	background-color: rgba(221, 225, 233, 0.6);
}

/* Iconos (PNG) */
.alim-card-icon,
.alim-card-config-icon {
	width: 20px;
	height: 20px;
	display: block;
}

/* Título centrado dentro del header */
.alim-card-title {
	flex: 1;
	text-align: left;
	font-weight: 700;
	padding-left: 0.4rem;
	white-space: nowrap;        /* no permitir salto de línea */
	overflow: hidden;           /* cortar lo que sobra */
	text-overflow: ellipsis;    /* poner "..." al final */
}

/* Botón específico de mapeo (tiene un poco más de padding) */
.alim-card-map-btn {
	padding-right: 10px;
}

.alim-card-map-label {
	font-size: 0.7rem;
	text-transform: uppercase;
	letter-spacing: 0.04em;
}

/* Cuerpo de la tarjeta */
.alim-card-body {
	padding: 0.8rem 1rem 1rem;
	background-color: #2b2c2b;
}

.alim-card-section {
	margin-bottom: 0.75rem;
}

.alim-card-section-title {
	margin: 0 0 0.4rem;
	font-size: 0.8rem;
	letter-spacing: 0.05em;
}

.alim-card-meters {
	display: flex;
	justify-content: space-evenly; /* reparte espacios iguales entre cajas */
	gap: 8px;
	position: relative;            /* necesario para posicionar el borde animado */
	overflow: visible;             /* el borde puede sobresalir un poquito */
}

/* Cada box con ancho fijo */
.alim-card-meter {
	position: relative;
	flex: 0 0 80px;                /* ancho aproximado de cada box */
	text-align: center;
}

.alim-card-meter-phase {
	display: block;
	font-size: 1rem;
	margin-bottom: 0.2rem;
}

.alim-card-meter-value {
	position: relative;            /* necesario para dibujar el borde animado con ::before */
	display: block;
	font-family: "DS-Digital", "Courier New", monospace;
	font-size: 1.3rem;
	letter-spacing: 0.06em;
	padding: 0.25rem 0.3rem;
	border-radius: 6px;
	background-color: #020617;
	border-width: 1px;
	border-color: #0ea5e9;
	color: #facc15;
	box-shadow: inset 0 0 6px rgba(250, 204, 21, 0.4);
}

/* Estado cuando la tarjeta está siendo arrastrada */
.alim-card-dragging {
	opacity: 0.35;
	transform: scale(0.98);
	transition: opacity 0.15s ease, transform 0.15s ease;
}

/* ===== BORDE PROGRESO PARA REGISTROS DEL RELÉ ===== */
.alim-meter-progress-rele::before {
	content: "";
	position: absolute;
	inset: -2px;
	border-radius: 3px;
	pointer-events: none;

	background:
		linear-gradient(#ece4b3e7 0 0) 0% 0 / 0 4px no-repeat,      /* arriba */
		linear-gradient(#ece4b3e7 0 0) 100% 0 / 4px 0 no-repeat,    /* derecha */
		linear-gradient(#ece4b3e7 0 0) 100% 100% / 0 4px no-repeat, /* abajo */
		linear-gradient(#ece4b3e7 0 0) 0% 100% / 4px 0 no-repeat;   /* izquierda */

	animation: rw-border-progress-rele var(--rw-progress-duration-rele, 60s)
		linear infinite;
}

@keyframes rw-border-progress-rele {
	0% {
		background-size: 0 2px, 2px 0, 0 2px, 2px 0;
	}
	25% {
		background-size: 100% 2px, 2px 0, 0 2px, 2px 0;
	}
	50% {
		background-size: 100% 2px, 2px 100%, 0 2px, 2px 0;
	}
	75% {
		background-size: 100% 2px, 2px 100%, 100% 2px, 2px 0;
	}
	100% {
		background-size: 100% 2px, 2px 100%, 100% 2px, 2px 100%;
	}
}

/* ===== BORDE PROGRESO PARA REGISTROS DEL ANALIZADOR ===== */
.alim-meter-progress-analizador::before {
	content: "";
	position: absolute;
	inset: -2px;
	border-radius: 3px;
	pointer-events: none;

	/* Podés usar el mismo color o cambiarlo si querés distinguirlos */
	background:
		linear-gradient(#ece4b3e7 0 0) 0% 0 / 0 4px no-repeat,
		linear-gradient(#ece4b3e7 0 0) 100% 0 / 4px 0 no-repeat,
		linear-gradient(#ece4b3e7 0 0) 100% 100% / 0 4px no-repeat,
		linear-gradient(#ece4b3e7 0 0) 0% 100% / 4px 0 no-repeat;

	animation: rw-border-progress-analizador
		var(--rw-progress-duration-analizador, 60s) linear infinite;
}

@keyframes rw-border-progress-analizador {
	0% {
		background-size: 0 2px, 2px 0, 0 2px, 2px 0;
	}
	25% {
		background-size: 100% 2px, 2px 0, 0 2px, 2px 0;
	}
	50% {
		background-size: 100% 2px, 2px 100%, 0 2px, 2px 0;
	}
	75% {
		background-size: 100% 2px, 2px 100%, 100% 2px, 2px 0;
	}
	100% {
		background-size: 100% 2px, 2px 100%, 100% 2px, 2px 100%;
	}
}

